<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles/index.css">
    <script src='js/places.js'></script>
    <title>Buy Better</title>
</head>
<body>
  <script>
    let params = new URLSearchParams(location.search); //gets the URL
    
    const status = params.get('status');
    const message = params.get('msg');

    if (status == 'error') {
      window.alert(`Sorry, an error occured. Make sure the URL you are inputting is correct and try again.\n${message}`);
      window.location.href = '/';
    }
  </script>

  <header id='header'>
      <h1 id='title'>Buy Better</h1>
      <ul id='navBar'>
          <li class='navBtn'><a href='/' >Home</a></li>
          <li class='navBtn'><a href='/info' >Learn More</a></li>
      </ul>
  </header>

  <main id='mainContent'>
    <div id='howTo'>
    <h2>Buying Local Is Easier Than It Seems</h2>
      <ol id='list'>
        <li>Find the product you want on Amazon.com</li>
        <li>Copy the URL of the product</li>
        <li>Enter in your zip code or use your exact location</li>
        <li>Hit submit to find stores local that may have similar products</li>
      </ol>
    </div>
    <form action='/getInfo' method='get' id='inputForm'>
        <!-- <label for="URL">Amazon URL</label> -->
        <input type="text" id="URL" name="URL" placeholder="Amazon URL" required><br>
        <!-- <label for="zip">Zip Code</label> -->
        <div id='locationWrapper'>
          <input type="text" id="zip" name="zip" placeholder="Zip Code" required>
          <p>OR</p>
          <input type="button" id='exactLocation' onclick='getUserLocation()' value='Use More Precise Location'>
        </div>
        <input type="submit" id='submit'>
    </form>
  </main>

  <script src='js/getLocation.js'></script>
</body>
</html>

